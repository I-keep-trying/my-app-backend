(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{56:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n(10),a=n.n(c),o=n(4),u=n(2),i=n.n(u),s=n(5),p=n(13),f=n(25),l=n(6),j=n.n(l),d="/api/notes",O=function(){var t=Object(s.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get(d);case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(){var t=Object(s.a)(i.a.mark((function t(e){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={content:e,important:!1},t.next=3,j.a.post(d,n);case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v={getAll:O,createNew:b},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"NEW_NOTE":return[].concat(Object(f.a)(t),[e.data]);case"TOGGLE_IMPORTANCE":var n=e.data.id,r=t.find((function(t){return t.id===n})),c=Object(p.a)(Object(p.a)({},r),{},{important:!r.important});return t.map((function(t){return t.id!==n?t:c}));case"INIT_NOTES":return e.data;default:return t}},m=n(1),x=function(t){var e=t.note,n=t.handleClick;return Object(m.jsxs)("li",{onClick:n,children:[e.content,Object(m.jsxs)("strong",{children:[" ",e.important?"important":""]})]})},g={toggleImportanceOf:function(t){return{type:"TOGGLE_IMPORTANCE",data:{id:t}}}},y=Object(o.b)((function(t){return"ALL"===t.filter?{notes:t.notes}:{notes:"IMPORTANT"===t.filter?t.notes.filter((function(t){return t.important})):t.notes.filter((function(t){return!t.important}))}}),g)((function(t){return Object(m.jsx)("ul",{children:t.notes.map((function(e){return Object(m.jsx)(x,{note:e,handleClick:function(){return t.toggleImportanceOf(e.id)}},e.id)}))})})),T=function(t){var e=t.country,n=t.handleClick;return console.log("country",e),Object(m.jsx)("li",{onClick:n,children:e.name})},N=Object(o.b)((function(t){return console.log("state",t),{countries:t.countries}}))((function(t){return console.log("props.countries",t.countries),Object(m.jsx)("ul",{children:t.countries.map((function(t,e){return Object(m.jsx)(T,{country:t},e)}))})})),w=Object(o.b)(null,{createNote:function(t){return function(){var e=Object(s.a)(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.createNew(t);case 2:r=e.sent,n({type:"NEW_NOTE",data:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(t){var e=function(){var e=Object(s.a)(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),r=n.target.note.value,n.target.note.value="",t.createNote(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("form",{onSubmit:e,children:[Object(m.jsx)("input",{name:"note"}),Object(m.jsx)("button",{type:"submit",children:"add"})]})})),I=function(t){return{type:"SET_FILTER",filter:t}},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ALL",e=arguments.length>1?arguments[1]:void 0;return"SET_FILTER"===e.type?e.filter:t},k=function(){var t=Object(o.c)();return Object(m.jsxs)("div",{children:["all",Object(m.jsx)("input",{type:"radio",name:"filter",onChange:function(){return t(I("ALL"))}}),"important",Object(m.jsx)("input",{type:"radio",name:"filter",onChange:function(){return t(I("IMPORTANT"))}}),"nonimportant",Object(m.jsx)("input",{type:"radio",name:"filter",onChange:function(){return t(I("NONIMPORTANT"))}})]})},A=function(){var t=Object(s.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get("/api/countries");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),C={getAll:A},L=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return"INIT_COUNTRIES"===e.type?e.data:t},R=function(){var t=Object(o.c)();return Object(r.useEffect)((function(){t(function(){var t=Object(s.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.getAll();case 2:n=t.sent,console.log("countries",n),e({type:"INIT_COUNTRIES",data:n});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t(function(){var t=Object(s.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.getAll();case 2:n=t.sent,e({type:"INIT_NOTES",data:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[t]),Object(m.jsxs)("div",{children:[Object(m.jsx)(w,{}),Object(m.jsx)(k,{}),Object(m.jsx)(y,{}),Object(m.jsx)(N,{})]})},_=n(7),S=n(24),M=n(23),P=Object(_.combineReducers)({notes:h,filter:E,countries:L}),G=Object(_.createStore)(P,Object(M.composeWithDevTools)(Object(_.applyMiddleware)(S.a)));a.a.render(Object(m.jsx)(o.a,{store:G,children:Object(m.jsx)(R,{})}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.1a35d3d2.chunk.js.map
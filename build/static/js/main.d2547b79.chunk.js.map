{"version":3,"sources":["reducers/countryDataReducer.js","reducers/weatherReducer.js","reducers/timeZoneReducer.js","services/countriesData.js","App.js","store.js","index.js","reducers/countriesReducer.js"],"names":["initialState","news","status","totalResults","articles","bbox","featuresDetails","getCountryNews","country","dispatch","a","countryService","countryData","type","data","resetCountryNews","getCountryBbox","countryBbox","getCountryFeatures","location","countryFeatures","getCountryFeature","id","getCountryFeatureDetails","countryFeature","countryDataReducer","state","action","toString","includes","features","featureArr","map","f","properties","place_id","featureIds","feature","getWeather","weather","weatherReducer","getTimeZone","timeZone","timeZoneReducer","getAll","axios","get","response","params","unit","res","getCountry","Countries","loadable","CountriesMobile","App","useDispatch","countries","useSelector","initialCountries","useEffect","undefined","initializeCountries","isMobile","reducer","combineReducers","countriesReducer","unitReducer","time","menu","menuReducer","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","document","getElementById","searchCountriesByName","input","filterCountries","filterCountriesByRegion","region","filterCountriesBySubRegion","subregion","sortCountries","key","toggleUnit","show","toggleMenu","noCapitals","filter","item","name","common","antarctica","c","capital","bouvetIsland","heardIsland","macau","usMinor","southGeorgia","frenchSouthern","otherCountries","nCountries","b","window","localStorage","getItem","dir","localeCompare","sort","reset","filtered","sortConfig","direction","toSearch","toLowerCase","startsWith","selectRegion","regionFiltered","selectSubRegion","subregionFiltered","s","newState","setItem","sortableItems","sortedState"],"mappings":"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","file":"static/js/main.d2547b79.chunk.js","sourcesContent":["import countryService from '../services/countriesData'\n\nconst initialState = {\n  news: { status: '?', totalResults: 0, articles: [] },\n  bbox: [],\n  featuresDetails: [],\n}\n\nconst countryDataReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'COUNTRY_NEWS':\n      if (action.data.toString().includes('Error')) {\n        return { data: 'no news available' }\n      } else {\n        return { ...state, news: action.data }\n      }\n    case 'COUNTRY_NEWS_RESET':\n      return initialState\n    case 'COUNTRY_BBOX':\n      return { ...state, bbox: action.data }\n    case 'COUNTRY_FEATURES':\n      const features = action.data.features\n      const featureArr = features.map((f) => {\n        return f.properties.place_id\n      })\n      return { ...state, features: action.data, featureIds: featureArr }\n    case 'COUNTRY_FEATURE':\n      const feature = action.data.features\n     // console.log('reducer: feature', feature)\n      return { ...state, featuresDetails: [...state.featuresDetails, feature] }\n    default:\n      return state\n  }\n}\n\nexport const getCountryNews = (country) => {\n  return async (dispatch) => {\n    const countryData = await countryService.getCountryNews(country)\n    dispatch({\n      type: 'COUNTRY_NEWS',\n      data: countryData,\n    })\n  }\n}\n\nexport const resetCountryNews = (data) => {\n  return async (dispatch) => {\n    dispatch({\n      type: 'COUNTRY_NEWS_RESET',\n      data,\n    })\n  }\n}\n\nexport const getCountryBbox = (country) => {\n  return async (dispatch) => {\n    const countryBbox = await countryService.getCountryBbox(country)\n    dispatch({\n      type: 'COUNTRY_BBOX',\n      data: countryBbox,\n    })\n  }\n}\n\nexport const getCountryFeatures = (location) => {\n  return async (dispatch) => {\n    const countryFeatures = await countryService.getCountryFeatures(location)\n    dispatch({\n      type: 'COUNTRY_FEATURES',\n      data: countryFeatures,\n    })\n  }\n}\n\nexport const getCountryFeature = (id) => {\n  return async (dispatch) => {\n    const countryFeature = await countryService.getCountryFeatureDetails(id)\n    dispatch({\n      type: 'COUNTRY_FEATURE',\n      data: countryFeature,\n    })\n  }\n}\n\nexport default countryDataReducer\n","import countryService from '../services/countriesData'\n\nconst weatherReducer = (state = {}, action) => {\n  switch (action.type) {\n    case 'GET_WEATHER':\n      return action.data\n    default:\n      return state\n  }\n}\n\nexport const getWeather = (location) => {\n  return async (dispatch) => {\n    const weather = await countryService.getWeather(location)\n\n    dispatch({\n      type: 'GET_WEATHER',\n      data: weather,\n    })\n  }\n}\n\nexport default weatherReducer\n","import countryService from '../services/countriesData'\n\nconst timeZoneReducer = (state = {}, action) => {\n  switch (action.type) {\n    case 'GET_TIME_ZONE':\n      return action.data\n    default:\n      return state\n  }\n}\n\nexport const getTimeZone = (location) => {\n  return async (dispatch) => {\n    const timeZone = await countryService.getTimeZone(location)\n    dispatch({\n      type: 'GET_TIME_ZONE',\n      data: timeZone,\n    })\n  }\n}\n\nexport default timeZoneReducer\n\n/* \nlocation ? (2) [-53.1, 72.51666666]\ntimeZoneReducer.js:13 location for time zone \n{location: Array(2)}\nlocation: (2) [-53.1, 72.51666666]\n0: -53.1\n1: 72.51666666\nlength: 2\nlastIndex: (...)lastItem: (...)[[Prototype]]: Array(0)[[Prototype]]: Object\n*/","import axios from 'axios'\r\nconst baseUrl = '/api/countries'\r\n\r\nconst getAll = async () => {\r\n  const response = await axios.get(baseUrl)\r\n  return response.data\r\n}\r\n\r\nconst getWeather = async (params) => {\r\n  const res = await axios.get(\r\n    `/api/weather/lat/${params.location[0]}/lng/${params.location[1]}/unit/${params.unit}`\r\n  )\r\n  return res.data\r\n}\r\n\r\nconst getTimeZone = async (params) => {\r\n  const res = await axios.get(\r\n    `/api/time/lat/${params.location[0]}/lng/${params.location[1]}`\r\n  )\r\n  return res.data\r\n}\r\n\r\nconst getCountryNews = async (params) => {\r\n  const res = await axios.get(`/api/countries/news/${params}`)\r\n  return res.data\r\n}\r\n\r\nconst getCountry = async (params) => {\r\n  const res = await axios.get(`/api/countries/name/${params}`)\r\n  return res.data\r\n}\r\n\r\nconst getCountryBbox = async (params) => {\r\n  const res = await axios.get(`/api/countries/map/${params}`)\r\n  return res.data\r\n}\r\n\r\nconst getCountryFeatures = async (params) => {\r\n  const res = await axios.get(\r\n    `/api/countries/features/lat/${params[0]}/lon/${params[1]}`\r\n  )\r\n  return res.data\r\n}\r\n\r\nconst getCountryFeatureDetails = async (params) => {\r\n  const res = await axios.get(`/api/countries/feature/${params}`)\r\n  return res.data\r\n}\r\n\r\nexport default {\r\n  getAll,\r\n  getWeather,\r\n  getTimeZone,\r\n  getCountry,\r\n  getCountryNews,\r\n  getCountryBbox,\r\n  getCountryFeatures,\r\n  getCountryFeatureDetails,\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { isMobile } from 'react-device-detect'\r\nimport loadable from '@loadable/component'\r\nimport { initializeCountries } from './reducers/countriesReducer'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nconst Countries = loadable(() => import('./pages/Countries'))\r\nconst CountriesMobile = loadable(() => import('./pages/CountriesMobile'))\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch()\r\n  const countries = useSelector((state) => {\r\n    return state.countries.initialCountries\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (countries === undefined) {\r\n      dispatch(initializeCountries())\r\n    }\r\n  }, [dispatch, countries])\r\n\r\n  return countries !== undefined ? (\r\n    isMobile ? (\r\n      <CountriesMobile />\r\n    ) : (\r\n      <Countries />\r\n    )\r\n  ) : (\r\n    <></>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport countriesReducer, {\n  unitReducer,\n  menuReducer,\n} from './reducers/countriesReducer'\nimport countryDataReducer from './reducers/countryDataReducer'\nimport weatherReducer from './reducers/weatherReducer'\nimport timeZoneReducer from './reducers/timeZoneReducer'\n\nconst reducer = combineReducers({\n  countries: countriesReducer,\n  country: countryDataReducer,\n  unit: unitReducer,\n  weather: weatherReducer,\n  time: timeZoneReducer,\n  menu: menuReducer,\n})\n\nconst store = createStore(reducer, composeWithDevTools(applyMiddleware(thunk)))\n\nexport default store\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport './assets/css/semantic.css'\r\nimport 'react-app-polyfill/ie11'\r\nimport 'core-js'\r\nimport App from './App'\r\nimport store from './store'\r\n\r\n/* const styleLink = document.createElement('link')\r\nstyleLink.rel = 'stylesheet'\r\nstyleLink.href =\r\n  'https://cdn.jsdelivr.net/npm/semantic-ui/dist/semantic.min.css'\r\ndocument.head.appendChild(styleLink) */\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n)\r\n//  \"proxy\": \"https://sheltered-scrubland-08732.herokuapp.com\",\r\n// local proxy: \"proxy\": \"http://localhost:3001/\"\r\n// backend: https://github.com/I-keep-trying/my-app-backend\r\n","import countryService from '../services/countriesData'\r\n\r\n/* ---------- Countries Reducer ------------- */\r\nconst countriesReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'INIT_COUNTRIES':\r\n      // Find countries from restcountries.com api with missing keys\r\n      const noCapitals = action.data.filter(\r\n        (item) =>\r\n          item.name.common === 'Antarctica' ||\r\n          item.name.common === 'Bouvet Island' ||\r\n          item.name.common === 'Heard Island and McDonald Islands' ||\r\n          item.name.common === 'Macau' ||\r\n          item.name.common === 'United States Minor Outlying Islands' ||\r\n          item.name.common === 'South Georgia' ||\r\n          item.name.common === 'French Southern and Antarctic Lands'\r\n      )\r\n      // Create replacements inserting missing keys\r\n      const antarctica = noCapitals\r\n        .filter((c) => c.name.common === 'Antarctica')\r\n        .map((c) => {\r\n          return { ...c, capital: ['No Capital City'], subregion: 'Antarctic' }\r\n        })\r\n\r\n      const bouvetIsland = noCapitals\r\n        .filter((c) => c.name.common === 'Bouvet Island')\r\n        .map((c) => {\r\n          return { ...c, capital: ['Oslo'], subregion: 'Antarctic' }\r\n        })\r\n\r\n      const heardIsland = noCapitals\r\n        .filter((c) => c.name.common === 'Heard Island and McDonald Islands')\r\n        .map((c) => {\r\n          return { ...c, capital: ['Bern'], subregion: 'Antarctic' }\r\n        })\r\n\r\n      const macau = noCapitals\r\n        .filter((c) => c.name.common === 'Macau')\r\n        .map((c) => {\r\n          return { ...c, capital: ['Macau'] }\r\n        })\r\n\r\n      const usMinor = noCapitals\r\n        .filter((c) => c.name.common === 'United States Minor Outlying Islands')\r\n        .map((c) => {\r\n          return { ...c, capital: ['Washington DC'] }\r\n        })\r\n\r\n      const southGeorgia = noCapitals\r\n        .filter((c) => c.name.common === 'South Georgia')\r\n        .map((c) => {\r\n          return { ...c, subregion: 'Antarctic' }\r\n        })\r\n\r\n      const frenchSouthern = noCapitals\r\n        .filter((c) => c.name.common === 'French Southern and Antarctic Lands')\r\n        .map((c) => {\r\n          return { ...c, subregion: 'Antarctic' }\r\n        })\r\n\r\n      // Remove defective country objects\r\n      const otherCountries = action.data.filter(\r\n        (item) =>\r\n          item.name.common !== 'Antarctica' &&\r\n          item.name.common !== 'Bouvet Island' &&\r\n          item.name.common !== 'Heard Island and McDonald Islands' &&\r\n          item.name.common !== 'Macau' &&\r\n          item.name.common !== 'United States Minor Outlying Islands' &&\r\n          item.name.common !== 'South Georgia' &&\r\n          item.name.common !== 'French Southern and Antarctic Lands'\r\n      )\r\n\r\n      // Insert replacement objects with keys in place\r\n      const nCountries = [\r\n        ...otherCountries,\r\n        southGeorgia[0],\r\n        heardIsland[0],\r\n        macau[0],\r\n        usMinor[0],\r\n        antarctica[0],\r\n        bouvetIsland[0],\r\n        frenchSouthern[0],\r\n      ]\r\n\r\n      const sortCountries = (a, b) => {\r\n        const key =\r\n          window.localStorage.getItem('sort key') === null\r\n            ? 'name'\r\n            : window.localStorage.getItem('sort key')\r\n\r\n        const dir =\r\n          window.localStorage.getItem('direction') === null\r\n            ? 'ascending'\r\n            : window.localStorage.getItem('direction')\r\n\r\n        if (key === 'area' || key === 'population') {\r\n          if (a[key] < b[key]) {\r\n            return dir === 'ascending' ? -1 : 1\r\n          }\r\n          if (a[key] > b[key]) {\r\n            return dir === 'ascending' ? 1 : -1\r\n          }\r\n        } else if (key === 'capital') {\r\n          //      console.log('a.key', a[key][0])\r\n          return dir === 'ascending'\r\n            ? a[key][0].localeCompare(b[key][0])\r\n            : b[key][0].localeCompare(a[key][0])\r\n        } else if (key === 'name') {\r\n          return dir === 'ascending'\r\n            ? a[key].common.localeCompare(b[key].common)\r\n            : b[key].common.localeCompare(a[key].common)\r\n        } else {\r\n          return dir === 'ascending'\r\n            ? a[key].localeCompare(b[key].common)\r\n            : b[key].localeCompare(a[key].common)\r\n        }\r\n      }\r\n\r\n      const initialCountries = nCountries.sort(sortCountries)\r\n\r\n      return {\r\n        initialCountries,\r\n        filter: {\r\n          input: '',\r\n          country: '',\r\n          region: 'All',\r\n          subregion: '',\r\n          reset: false,\r\n        },\r\n        filtered: initialCountries,\r\n        sortConfig: {\r\n          key:\r\n            window.localStorage.getItem('sort key') !== null\r\n              ? window.localStorage.getItem('sort key')\r\n              : 'name',\r\n          direction:\r\n            window.localStorage.getItem('direction') !== null\r\n              ? window.localStorage.getItem('direction')\r\n              : 'ascending',\r\n        },\r\n      }\r\n    case 'FILTER_COUNTRIES':\r\n      if (action.input === '') {\r\n        return {\r\n          initialCountries,\r\n          filter: {\r\n            input: '',\r\n            country: '',\r\n            region: 'All',\r\n            subregion: '',\r\n            reset: false,\r\n          },\r\n          filtered: initialCountries,\r\n          sortConfig: {\r\n            key: 'name',\r\n            direction: 'ascending',\r\n          },\r\n        }\r\n      } else if (action.input) {\r\n        const toSearch = {\r\n          ...state,\r\n          filter: {\r\n            ...state.filter,\r\n            input: action.input.toLowerCase(),\r\n          },\r\n        }\r\n\r\n        const filtered = toSearch.initialCountries.filter((c) =>\r\n          c.name.common.toLowerCase().startsWith(toSearch.filter.input)\r\n        )\r\n\r\n        return { ...toSearch, filtered: filtered }\r\n      } else if (action.country) {\r\n        const toSearch = {\r\n          ...state,\r\n          filter: {\r\n            ...state.filter,\r\n            country: action.country.name.common.toLowerCase(),\r\n            region: action.country.region,\r\n            subregion: action.country.subregion,\r\n          },\r\n        }\r\n        const filtered = toSearch.initialCountries.filter(\r\n          (c) =>\r\n            c.name.common.toLowerCase() ===\r\n            toSearch.filter.country.toLowerCase()\r\n        )\r\n        return { ...toSearch, filtered: filtered }\r\n      } else if (action.region) {\r\n        const selectRegion = {\r\n          ...state,\r\n          filter: { ...state.filter, region: action.region.toLowerCase() },\r\n        }\r\n        const regionFiltered =\r\n          selectRegion.filter.region === 'all'\r\n            ? selectRegion.initialCountries\r\n            : selectRegion.initialCountries.filter(\r\n                (c) => c.region.toLowerCase() === selectRegion.filter.region\r\n              )\r\n\r\n        return {\r\n          ...selectRegion,\r\n          filtered: regionFiltered,\r\n          filter: {\r\n            ...selectRegion.filter,\r\n            input: '',\r\n            country: '',\r\n            region: action.region.toLowerCase(),\r\n            subregion: '',\r\n          },\r\n        }\r\n      } else if (action.subregion) {\r\n        const selectSubRegion = {\r\n          ...state,\r\n          filter: {\r\n            ...state.filter,\r\n            subregion: action.subregion.toLowerCase(),\r\n          },\r\n        }\r\n        const subregionFiltered = selectSubRegion.initialCountries.filter(\r\n          (s) => s.subregion?.toLowerCase() === selectSubRegion.filter.subregion\r\n        )\r\n        //     console.log('subregionFiltered', subregionFiltered)\r\n        const newState = { ...selectSubRegion, filtered: subregionFiltered }\r\n        return newState\r\n      } else {\r\n        return state\r\n      }\r\n    case 'RESET_FILTER':\r\n      return {\r\n        ...state,\r\n        filter: {\r\n          input: '',\r\n          country: '',\r\n          region: 'All',\r\n          subregion: '',\r\n          reset: true,\r\n        },\r\n      }\r\n    case 'SORT_COUNTRIES':\r\n      const direction =\r\n        state.sortConfig.direction === 'ascending' ? 'descending' : 'ascending'\r\n      window.localStorage.setItem('direction', direction)\r\n\r\n      let sortableItems = state.filtered\r\n\r\n      if (action.key === 'area' || action.key === 'population') {\r\n        sortableItems.sort((a, b) =>\r\n          direction === 'ascending'\r\n            ? a[action.key] - b[action.key]\r\n            : b[action.key] - a[action.key]\r\n        )\r\n      } else if (action.key === 'name') {\r\n        sortableItems.sort((a, b) =>\r\n          direction === 'ascending'\r\n            ? a[action.key].common.localeCompare(b[action.key].common)\r\n            : b[action.key].common.localeCompare(a[action.key].common)\r\n        )\r\n      } else if (action.key === 'capital') {\r\n        sortableItems.sort((a, b) =>\r\n          direction === 'ascending'\r\n            ? a[action.key][0].localeCompare(b[action.key][0])\r\n            : b[action.key][0].localeCompare(a[action.key][0])\r\n        )\r\n      } else {\r\n        sortableItems.sort((a, b) =>\r\n          a[action.key] && direction === 'ascending'\r\n            ? a[action.key].localeCompare(b[action.key])\r\n            : b[action.key].localeCompare(a[action.key])\r\n        )\r\n      }\r\n      const sortedState = {\r\n        ...state,\r\n        filtered: sortableItems,\r\n        sortConfig: { key: action.key, direction: direction },\r\n      }\r\n      return sortedState\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n/* ------------ Countries Reducer Actions ------------- */\r\n\r\nexport const initializeCountries = () => {\r\n  return async (dispatch) => {\r\n    const countries = await countryService.getAll()\r\n    dispatch({\r\n      type: 'INIT_COUNTRIES',\r\n      data: countries,\r\n    })\r\n  }\r\n}\r\n\r\nexport const resetFilter = (reset) => {\r\n  return {\r\n    type: 'RESET_FILTER',\r\n    reset: reset,\r\n  }\r\n}\r\n\r\nexport const searchCountriesByName = (input) => {\r\n  return {\r\n    type: 'FILTER_COUNTRIES',\r\n    input,\r\n  }\r\n}\r\n\r\nexport const searchCountriesByCapital = (inputCap) => {\r\n  return {\r\n    type: 'FILTER_COUNTRIES',\r\n    inputCap,\r\n  }\r\n}\r\n\r\nexport const filterCountries = (country) => {\r\n  return {\r\n    type: 'FILTER_COUNTRIES',\r\n    country,\r\n  }\r\n}\r\n\r\nexport const filterCountriesByRegion = (region) => {\r\n  return {\r\n    type: 'FILTER_COUNTRIES',\r\n    region,\r\n  }\r\n}\r\n\r\nexport const filterCountriesBySubRegion = (subregion) => {\r\n  return {\r\n    type: 'FILTER_COUNTRIES',\r\n    subregion,\r\n  }\r\n}\r\n\r\nexport const sortCountries = (key) => {\r\n  return {\r\n    type: 'SORT_COUNTRIES',\r\n    key,\r\n  }\r\n}\r\n\r\n/* -------------Unit Reducer ------------------ */\r\nexport const unitReducer = (state = { unit: 'metric' }, action) => {\r\n  switch (action.type) {\r\n    case 'UNIT_TOGGLE':\r\n      return { ...state, unit: action.unit }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const toggleUnit = (unit) => {\r\n  return {\r\n    type: 'UNIT_TOGGLE',\r\n    unit: unit,\r\n  }\r\n}\r\n\r\n/* ------------- Menu Reducer ------------------ */\r\nexport const menuReducer = (state = { show: false }, action) => {\r\n  switch (action.type) {\r\n    case 'MENU_TOGGLE':\r\n      const show = state.show === false ? true : false\r\n      return { ...state, show: show }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const toggleMenu = (show) => {\r\n  return {\r\n    type: 'MENU_TOGGLE',\r\n    show: show,\r\n  }\r\n}\r\n\r\nexport default countriesReducer\r\n"],"sourceRoot":""}